<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../static/global.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="Shortcut Icon" href="https://s1.ax1x.com/2020/03/27/GPH9xO.png" type="image/png" />
    <title>browssaq</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <body class="container">
    <h2>You've reached here</h2>
    To obtain the password, you need to figure out the following questions to prove your eligibility.
    <div class="block">
      <h2>1. Academic Ability</h2>
      <form>
        <div class="input-group mb-3">
          <span class="input-group-text">\(f(x) = \frac{d}{dx}\left(ln(x) + x^x + x(x + 1)\right), f(1) = \)</span>
          <input id="q1" type="text" class="form-control" placeholder="Answer">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text">\(\left|\begin{array}{ccc} 
            1 & 4 & 5 \\
            7 & 2 & 6 \\
            8 & 9 & 3
        \end{array}\right|= \)</span>
          <input id="q2" type="text" class="form-control" placeholder="Answer">
        </div>
      </form>
    </div>

    <div class="block">
      <h2>2. Language Capability</h2>
      <form>
        <div class="input-group mb-3">
          <span class="input-group-text">R U able 2 comprehend the whole page?</span>
          <select id="q3" class="form-select">
            <option value="Z">?</option>
            <option value="A">Roughly</option>
            <option value="B">Hardly</option>
            <option value="C">Oddly</option>
            <option value="D">Absolutely</option>
            <option value="E">Nearly</option>
          </select>
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text">"Arigato" in English:</span>
          <input id="q4" type="text" class="form-control" placeholder="Answer does not contain whitespace, has length 6 and begins with a captial letter">
        </div>
      </form>
    </div>

    <div class="block">
      <h2>3. Intelligence</h2>
      <form>
        <div class="input-group mb-3">
          <span class="input-group-text">Known Facts:<ul><li>1=5</li><li>2=6</li><li>3=7</li><li>4=8</li></ul></span>
          <span class="input-group-text">Therefore,5=</span>
          <input id="q5" type="text" class="form-control" placeholder="Answer">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text">The minute and second value&nbsp;<b id="upt">(Loading...)</b>&nbsp;seconds before now: </span>
          <input id="q6" type="text" class="form-control" placeholder="In format mm:ss, for example 12:34">
        </div>
      </form>
    </div>

    <div class="block">
      <h2>4. Verification</h2>
      (This step is for filtering <code>YOU</code> out of random visitors)
      <form>
        <div class="input-group mb-3">
          <span class="input-group-text">Your name in your native language:</span>
          <input id="q7" type="text" class="form-control" placeholder="Answer">
        </div>
      </form>
    </div>

    <div class="d-grid gap-2">
      <div id="res" style="text-align: center;">Are your answers correct?</div>
      <input type="button" class="btn btn-block btn-primary" value="Verify Answers" onclick="va();">
    </div>

    <div style="height:20vh;"></div>
    <script>
      console.log("It's good to see that you are able to open the console.")
      console.log("If you do well in computer science, you may be able to figure out the question with id 'q6' with the help of the source code of this page.")
      console.log("However, other questions are still required to be solved in order to obtain the password.")
      console.log("That's because the password is not stored in any place of this page, it's generated from your answers and verified against a given message digest.")
      window.setInterval(function(){
        let d = new Date();
        _("upt").innerText = (d.getMinutes()*60 + d.getSeconds()) + parseInt("\x32\x31\x30\x37")
      }, 1000)
      let cnt = 0
      function va() {
        let signature = "4506a9e8f7bf1def77b97025b0a19e95"
        let answerStr = `${_("q1").value}:${_("q2").value}:${_("q3").value}:${_("q4").value}:${_("q5").value}:${_("q6").value}:${_("q7").value}`
        let password = MD5(unescape(encodeURIComponent(answerStr)))
        let signagure_ = MD5(password)
        if(signature === signagure_) {
          _("res").innerHTML = `Congrats! Your password is <kbd>${password}</kbd>.`
        } else {
          _("res").innerHTML = `Uh-oh, some of your answers are incorrect. (Tried:${cnt++} Times)`
        }
      }

      function _(id) {
        return document.getElementById(id)
      }


      //The code below is a MD5 function, I didn't check it.
      let MD5 = function(d){var r = M(V(Y(X(d),8*d.length)));return r.toLowerCase()};function M(d){for(var _,m="0123456789ABCDEF",f="",r=0;r<d.length;r++)_=d.charCodeAt(r),f+=m.charAt(_>>>4&15)+m.charAt(15&_);return f}function X(d){for(var _=Array(d.length>>2),m=0;m<_.length;m++)_[m]=0;for(m=0;m<8*d.length;m+=8)_[m>>5]|=(255&d.charCodeAt(m/8))<<m%32;return _}function V(d){for(var _="",m=0;m<32*d.length;m+=8)_+=String.fromCharCode(d[m>>5]>>>m%32&255);return _}function Y(d,_){d[_>>5]|=128<<_%32,d[14+(_+64>>>9<<4)]=_;for(var m=1732584193,f=-271733879,r=-1732584194,i=271733878,n=0;n<d.length;n+=16){var h=m,t=f,g=r,e=i;f=md5_ii(f=md5_ii(f=md5_ii(f=md5_ii(f=md5_hh(f=md5_hh(f=md5_hh(f=md5_hh(f=md5_gg(f=md5_gg(f=md5_gg(f=md5_gg(f=md5_ff(f=md5_ff(f=md5_ff(f=md5_ff(f,r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+0],7,-680876936),f,r,d[n+1],12,-389564586),m,f,d[n+2],17,606105819),i,m,d[n+3],22,-1044525330),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+4],7,-176418897),f,r,d[n+5],12,1200080426),m,f,d[n+6],17,-1473231341),i,m,d[n+7],22,-45705983),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+8],7,1770035416),f,r,d[n+9],12,-1958414417),m,f,d[n+10],17,-42063),i,m,d[n+11],22,-1990404162),r=md5_ff(r,i=md5_ff(i,m=md5_ff(m,f,r,i,d[n+12],7,1804603682),f,r,d[n+13],12,-40341101),m,f,d[n+14],17,-1502002290),i,m,d[n+15],22,1236535329),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+1],5,-165796510),f,r,d[n+6],9,-1069501632),m,f,d[n+11],14,643717713),i,m,d[n+0],20,-373897302),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+5],5,-701558691),f,r,d[n+10],9,38016083),m,f,d[n+15],14,-660478335),i,m,d[n+4],20,-405537848),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+9],5,568446438),f,r,d[n+14],9,-1019803690),m,f,d[n+3],14,-187363961),i,m,d[n+8],20,1163531501),r=md5_gg(r,i=md5_gg(i,m=md5_gg(m,f,r,i,d[n+13],5,-1444681467),f,r,d[n+2],9,-51403784),m,f,d[n+7],14,1735328473),i,m,d[n+12],20,-1926607734),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+5],4,-378558),f,r,d[n+8],11,-2022574463),m,f,d[n+11],16,1839030562),i,m,d[n+14],23,-35309556),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+1],4,-1530992060),f,r,d[n+4],11,1272893353),m,f,d[n+7],16,-155497632),i,m,d[n+10],23,-1094730640),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+13],4,681279174),f,r,d[n+0],11,-358537222),m,f,d[n+3],16,-722521979),i,m,d[n+6],23,76029189),r=md5_hh(r,i=md5_hh(i,m=md5_hh(m,f,r,i,d[n+9],4,-640364487),f,r,d[n+12],11,-421815835),m,f,d[n+15],16,530742520),i,m,d[n+2],23,-995338651),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+0],6,-198630844),f,r,d[n+7],10,1126891415),m,f,d[n+14],15,-1416354905),i,m,d[n+5],21,-57434055),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+12],6,1700485571),f,r,d[n+3],10,-1894986606),m,f,d[n+10],15,-1051523),i,m,d[n+1],21,-2054922799),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+8],6,1873313359),f,r,d[n+15],10,-30611744),m,f,d[n+6],15,-1560198380),i,m,d[n+13],21,1309151649),r=md5_ii(r,i=md5_ii(i,m=md5_ii(m,f,r,i,d[n+4],6,-145523070),f,r,d[n+11],10,-1120210379),m,f,d[n+2],15,718787259),i,m,d[n+9],21,-343485551),m=safe_add(m,h),f=safe_add(f,t),r=safe_add(r,g),i=safe_add(i,e)}return Array(m,f,r,i)}function md5_cmn(d,_,m,f,r,i){return safe_add(bit_rol(safe_add(safe_add(_,d),safe_add(f,i)),r),m)}function md5_ff(d,_,m,f,r,i,n){return md5_cmn(_&m|~_&f,d,_,r,i,n)}function md5_gg(d,_,m,f,r,i,n){return md5_cmn(_&f|m&~f,d,_,r,i,n)}function md5_hh(d,_,m,f,r,i,n){return md5_cmn(_^m^f,d,_,r,i,n)}function md5_ii(d,_,m,f,r,i,n){return md5_cmn(m^(_|~f),d,_,r,i,n)}function safe_add(d,_){var m=(65535&d)+(65535&_);return(d>>16)+(_>>16)+(m>>16)<<16|65535&m}function bit_rol(d,_){return d<<_|d>>>32-_}
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  </body>
</html>